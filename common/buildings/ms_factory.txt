building_ms_factory = {
	base_buildtime = 360
	planet_unique = yes

	cost = {
		minerals = 200
	}

	produced_resources = {
		engineering_research = 4
	}

	required_resources = {
		energy = 2
	}

	potential = {
		planet = {
			NOT = { is_planet_class = pc_habitat }
		}
	}

	prerequisites = {
		"tech_BEAMC_1"
	}

	ai_special_building = yes

	ai_allow = {
		AND = {
			fromfrom = {
				NOT = {
					any_owned_planet = {
						has_building = building_ms_factory
					}
				}
				has_technology = tech_BEAMC_1
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
			from = {
				any_pop = {
					is_enslaved = yes
				}
			}
		}
	}

	ai_weight = {
		weight = 700
		modifier = {
			weight = 0
			from = {
				owner = {
					NOT = {
						has_technology = tech_BEAMC_1
						OR = {
							has_ethic = ethic_militarist
							has_ethic = ethic_fanatic_militarist
						}
					}
				}
				NOT = { has_building = building_ms_factory }
			}
		}
	}
}

building_efsf_ms_factory = {
	base_buildtime = 360
	planet_unique = yes

	cost = {
		minerals = 200
	}

	produced_resources = {
		engineering_research = 4
	}

	required_resources = {
		energy = 2
	}

	potential = {
		planet = {
			NOT = { is_planet_class = pc_habitat }
		}
	}

	prerequisites = {
		"tech_EFSF_BEAMC_1"
	}

	ai_special_building = yes

	ai_allow = {
		AND = {
			fromfrom = {
				NOT = {
					any_owned_planet = {
						has_building = building_efsf_ms_factory
					}
				}
				has_technology = tech_EFSF_BEAMC_1
				OR = {
					has_ethic = ethic_militarist
					has_ethic = ethic_fanatic_militarist
				}
			}
			from = {
				any_pop = {
					is_enslaved = yes
				}
			}
		}
	}

	ai_weight = {
		weight = 700
		modifier = {
			weight = 0
			from = {
				owner = {
					NOT = {
						has_technology = tech_EFSF_BEAMC_1
						OR = {
							has_ethic = ethic_militarist
							has_ethic = ethic_fanatic_militarist
						}
					}
				}
				NOT = { has_building = building_efsf_ms_factory }
			}
		}
	}
}
