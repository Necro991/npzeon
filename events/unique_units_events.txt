namespace = unique_units_warning

country_event = {
	id = unique_units_warning.298
	hide_window = yes
	mean_time_to_happen = {
		days = 7
	}
	trigger = {
		has_modifier = "zeon_MS_P_buildtime"
		count_owned_ships = {
			limit = {
				is_ship_size = "zeon_MS_P"
			}
			count = 0
		}
	}
	immediate = {
		remove_modifier = "zeon_MS_P_buildtime"
	}
}

# The AI doesnt trigger the build event
country_event = {
	id = unique_units_warning.299
	hide_window = yes
	mean_time_to_happen = {
		days = 7
	}
	trigger = {
		NOT = { has_modifier = "zeon_MS_P_buildtime" }
		count_owned_ships = {
			limit = {
				is_ship_size = "zeon_MS_P"
			}
			count > 0
		}
	}
	immediate = {
		add_modifier = {
			modifier = "zeon_MS_P_buildtime"
			days = -1
		}
	}
}


# This event triggers whenever a new flagship is built.
ship_event = {
	id = "unique_units_warning.1"
	title = "captainx3.1.name"
	desc = "captainx3.1.desc"
	picture = "GFX_evt_ship_in_orbit"
	show_sound = "event_sensor_ping"
	is_triggered_only = yes

	trigger = {
		is_ship_size = "zeon_MS_P"
	}
	option = {
		name = UNDERSTOOD
		owner = {
			add_modifier = {
				modifier = "zeon_MS_P_buildtime"
				days = -1
			}
		}
	}
}

# Flagship Destroyed/Dismissed
country_event = {
	id = "unique_units_warning.2"
	title = "captainx3.2.name"
	desc = "captainx3.2.desc"
	picture = "GFX_evt_exploding_ship"
	show_sound = "event_sensor_ping"
	is_triggered_only = yes

	option = {
		name = EXCELLENT
		remove_modifier = "zeon_MS_P_buildtime"
	}
}


namespace = "unique_units_check"

# Prevents more than one
ship_event = {
	id = "unique_units_check.1"
	hide_window = yes
	is_triggered_only = yes

	trigger = {
		is_ship_size = "zeon_MS_P"
	}

	immediate = {
		set_ship_flag = "zeon_MS_P_keep"
		owner = {
			every_owned_ship = {
				limit = {
					is_ship_size = "zeon_MS_P"
					NOT = { has_ship_flag = "zeon_MS_P_keep" }
				}
				fleet = { delete_fleet = this }
			}
		}
		remove_ship_flag = "zeon_MS_P_keep"
	}
}
